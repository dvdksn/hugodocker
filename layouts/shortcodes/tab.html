{{ if ne .Parent.Name "tabs" }}
  {{- errorf "tab shortcode missing its 'tabs' parent: %s" .Position -}}
{{ end }}

{{ $name := trim (.Get "name") " " }}

{{ with .Parent.Get "group" }}
  {{ if eq . "os" }}
    {{ $osList := "max, windows, linux" }}
    {{ if not (in $osList .name) }}
      {{- errorf "unsupported 'os' tab name, use one of '%s': %s" $osList .Position -}}
    {{ end }}
  {{ end }}
  {{ if eq . "lang" }}

  {{ end }}
{{ end }}

{{ if not (.Parent.Scratch.Get "tabs") }}
  {{ .Parent.Scratch.Set "tabs" slice }}
{{ end }}
{{ with .Inner }}
  {{ $.Parent.Scratch.Add "tabs" (dict "name" $name "content" . ) }}
{{ end }}
